<div class="modal full">
	<div class="modal-content">
		<div class="modal-header bar">
			<h1>Expense information</h1>
			<div>
				<span class="close" ng-click="$ctrl.close()">&times;</span>
			</div>
		</div>
		<div class="modal-body">
			<form name="form" novalidate>
				<div>
					<select ng-model="$ctrl.expense.status" 
					ng-options="s.id as s.name for s in $ctrl.status"></select>
				</div>
				<div>
					<input ng-show="$ctrl.expense.supplier_name.length > 0" type="text" name="supplier_name" ng-model="$ctrl.expense.supplier_name">
					<div class="dropdown" ng-show="$ctrl.expense.supplier_name.length == 0">
                		<input type="text" name="" placeholder="enter supplier" ng-model="$ctrl.supplier_search">
                		<ul ng-show="$ctrl.supplier_search.length > 0">
                			<li ng-repeat="supplier in $ctrl.suppliers | filter:$ctrl.supplier_search | limitTo:5">
                				<a href="" ng-click="$ctrl.addSupplier( supplier )">
                					{{supplier.name}}
                				</a>
                			</li>
                		</ul>
                	</div>
				</div>
				<div>
					<h3>Total Amount</h3>
					<h2>{{$ctrl.expense.amount = ($ctrl.expense.items | totalSumPriceQty:'quantity':'cost')}} F.CFA</h2>
				</div>
				<div ng-show="$ctrl.showAddItem==true">
					<div class="dropdown">
                		<input type="text" name="" placeholder="enter product / service" ng-model="$ctrl.search">
                		<ul ng-show="$ctrl.search.length > 0">
                			<li ng-repeat="item in $ctrl.items | filter:$ctrl.search | limitTo:5">
                				<a href="" ng-click="$ctrl.addItem( item )">
                					{{item.name}}
                				</a>
                			</li>
                		</ul>
                	</div>
				</div>
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th><input type="checkbox" ng-model="selectedAll" ng-click="checkAll()" /></th>
                            <th>Product / Service</th>
                            <th>Description</th>
                            <th>Quantity</th>
                            <th>Cost ( F.CFA )</th>
                            <th>Total ( F.CFA )</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in $ctrl.expense.items">
                            <td>
                                <input type="checkbox" ng-model="item.selected"/>
                            </td>
                            <td>
                                <input type="text" class="form-control" ng-model="item.item_name"/>
                            </td>
                            <td>
                                <input type="text" class="form-control" ng-model="item.description"/>
                            </td>
                            <td>
                                <input type="number" class="form-control" ng-model="item.quantity"/>
                            </td>
                            <td>
                                <input type="number" class="form-control" ng-model="item.cost"/>
                            </td>
                            <td>
                                {{item.quantity * item.cost}}
                            </td>
                        </tr>
                    </tbody>
                </table>

				<div class="bar">
					<div>
                    	<input type="button" class="btn btn-danger pull-right" ng-click="$ctrl.remove()" value="Remove">
						<button ng-click="$ctrl.showAddItem=true">Add line</button>
						<button ng-click="$ctrl.clear_items()">Clear all</button>
					</div>
					<div>
						<h3>Total : {{$ctrl.expense.items | totalSumPriceQty:'quantity':'cost'}}</h3>
					</div>
				</div>
			</form>
		</div>
		<div class="modal-footer bar">
			<button ng-disabled="form.$invalid" ng-click="$ctrl.save()">Save</button>
		</div>
	</div>
</div>