<div>
  <div>
    <select class="form-control" ng-model="$ctrl.search">
      <option value="">All user</option>
      <option ng-repeat="i in $ctrl.users" value="{{i._id}}">{{i.name}}</option>
    </select>
  </div>
  <div class="d-flex justify-content-between">
    <div>
      <h3><b>{{$ctrl.transactions | filter:{type:'Sale'} | sumOfValue:'total' | number}} F.CFA</b></h3>
      <p>SALES</p>
    </div>
    <div>
      <h3><b>{{$ctrl.transactions | filter:{type:'Expense'} | sumOfValue:'total' | number}} F.CFA</b></h3>
      <p>EXPENSES</p>
    </div>
    <div>
      <h3><b>{{($ctrl.transactions | filter:{type:'Sale'} | sumOfValue:'total') - ($ctrl.transactions | filter:{type:'Expense'} | sumOfValue:'total') | number}} F.CFA</b></h3>
      <p>INCOMES</p>
    </div>
  </div>
  <div>
    <h2>Incomes</h2>
    <table class="table">
      <thead>
        <tr>
          <th>DATE</th>
          <th>TRANSACTION TYPE</th>
          <th>ITEM</th>
          <th>QUANTITY</th>
          <th>TOTAL</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="t in $ctrl.transactions | filter:$ctrl.search">
          <td>{{t.created_at}}</td>
          <td>{{t.type}}</td>
          <td>{{t.item_name}}</td>
          <td>{{t.quantity}}</td>
          <td>{{t.total | number}}</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td>Total Incomes</td>
          <td><b>{{$ctrl.transactions | filter:{item_id:$ctrl.search, type:'Sale'} | sumOfValue:'total' | number}} F.CFA</b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td>Total Expenses</td>
          <td><b>{{$ctrl.transactions | filter:{item_id:$ctrl.search, type:'Expense'} | sumOfValue:'total' | number}} F.CFA</b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td>Total Net incomes</td>
          <td><b>{{($ctrl.transactions | filter:{item_id:$ctrl.search, type:'Sale'} | sumOfValue:'total') -($ctrl.transactions | filter:{item_id:$ctrl.search, type:'Expense'} | sumOfValue:'total') | number}} F.CFA</b></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>